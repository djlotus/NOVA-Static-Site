/*! Test NOVA Framework
* 
* Authored by James Murphy
* 
* Navigation
* 
*/

$navigation-align-map: (
   left: flex-start,
   center: center,
   right: flex-end
);

$navigation-align:                           'center'             !default;
$navigation-background-color:                $oil                 !default;
$navigation-links-color:                     white                !default;

// Mobile Nav Button
#show-nav {
   @include padding-top();
   @include padding-bottom();
   background: $navigation-background-color;
   position: fixed;
   top: 0;
   width: 100%;
   font: {
      size: 1rem;
   }
   @include breakpoint(medium) {
      display: none;
   }
}
nav[role=navigation] {
   background: $navigation-background-color;
   font: {
      family: $font-family-navigation;
      weight: $font-thin;
      size: 1.5rem;
   }
   letter-spacing: 1px;
   position: fixed;
   width: 0;
   top: 7rem;
   & ul {
      @include margin(0);
      @include padding(0);
      list-style: none;
      display: flex;
      position: relative;
      flex-flow: column nowrap;
      border-right: none;
      &[data-nav] {
         left: -100vw;
         @include max-width;
         margin: 0 auto;
      }
      &[data-nav=true] {
         left: 0;
      }
      & li {
         @include padding(1);
         &.top-level {
            border-bottom: 1px solid $light-grey;
            @include padding-left(2);
         }
         & ul {
            & li {
               display: none;
               @include padding-left(3);
            }
         }
      }
      & a {
         color: $navigation-links-color;
         text: {
            decoration: none;
            transform: uppercase;
         }
         &:hover,
         &:focus {
            color: $navigation-links-color;
         }
      }
   }
   @include breakpoint(medium) {
      position: relative;
      top: 0;
      width: 100%;
      & ul {
         background: $navigation-background-color;
         // Use Flexbox to align navigation items :D
         flex-flow: row nowrap;
         justify-content: nav-align($navigation-align);
         &[data-nav] {
            left: 0;
         }
         & li {
            flex: 0 1 auto;
            text-align: left;
            @include padding();
            border-right: 1px solid $dark-grey;
            position: relative;
            &:last-of-type {
               border-right: none;
            }
            &.top-level {
               border-bottom: none;
               @include padding-left();
            }
            & ul {
               & li {
                  display: block;
                  @include padding-left();
               }
            }
            &[data-dropdown] {
               & a:focus {
                  & + .dropdown {
                     left: 0;
                  }
               }
            }
            &[data-dropdown=true] {
               & .dropdown {
                  left: 0;
               }
            }
            &:hover a + ul {
               left: 0;
            }
         }
         & ul {
            list-style: none;
            position: absolute;
            top: 100%;
            left: -10000px;
            background: $oil;
            @include padding(0);
            width: 300%;
            text-align: left;
            display: block;
            &.active {
               left: 0;
            }
         }
         & a {
            color: $navigation-links-color;
            text-decoration: none;
            &:hover,
            &:focus {
               text-decoration: underline;
               color: darken($navigation-links-color, 20%);
            }
         }
      }

   }
}